# 概要
emacsについて

# 入力操作
### 簡単なキーバインド
```
emacs -nw ファイル名 ...新しいウィンドウを開かない
C-g ................コマンド操作の中断
```

### ファイル操作
```
C-x C-c ............emacsの終了
C-x C-s ............上書き保存
C-x C-w ............名前を付けて保存
C-x C-f ............ファイルを開く
C-x i   ............カーソル位置に別のファイルを挿入する
C-x C-v ............別のファイルを開く
```

### カーソル移]
```
C-p または ↑ ......↑
C-n または ↓ ......↓
C-b または ← ......←
C-f または → ......→
M-f ................１単語先へ
M-b ................１単語前へ
C-a ................行頭
C-e ................行末
M-v ................1画面分スクロールアップ
C-v ................1画面分スクロールダウン
M-< ................ファイルの先頭へカーソル移動
M-> ................ファイルの最後へカーソル移動
C-x C-x ............マーク位置へ移動する(マークのセットはC-space)
C-w ................マークの位置からカーソルの位置までを切り取り
C-y ................マークの位置からカーソルの位置までをコピー
C-g ................命令の取消
```

### 編集
- 初級
```
C-x u ..............アンドゥ
M-d ................単語の削除
M-DEL ..............直前の単語を削除
C-k ................カーソル位置からの行の削除
C-w ................コピー
M-w ................カット
C-y ................カーソル位置にペーストする
C-{Spc}またはC-@ ...マーク開始 {Spc}はスペース
```

- 中級
```
C-x C-t.............前の行と入れ換える
C-t ................前の文字と入れ換える
M-c ................カーソル上の文字を大文字にする。
M-u ................カーソル上の単語全体を大文字にする。
M-l(エル) ..........カーソル上の単語全体を小文字にする。
```

- 上級
```
C-x C-x ............マークとカーソル位置を交換
C-\ ................かな漢字変換のON/OFF
C-u NUM CMD ........この後のコマンド操作をNUM回実行する
M-Y ................貼り付け(YANKさかのぼり)
C-u カラム C-x f ...横カラム数の設定 
```
 
### 検索・置換
```
M-C-r ..............下方向に正規表現を用いて検索する。
C-s 文字列 .........文字列検索（後方検索）
C-r 文字列 .........文字列検索（前方検索）
M-% ................置換
M-C-s ..............下方向に正規表現を用いて検索する。
M-C-r ..............下方向に正規表現を用いて検索する。
```

### マクロ
```
C-x ( ..............キーボート・マクロ開始
C-x ) ..............キーボート・マクロ終了
C-x e ..............最後に登録したキーボート・マクロの実行
```

### ウィンドウ・バッファ操作
```
C-x 0 ..............ウィンドウを閉じる
C-x 1 ..............ウィンドウを1つにする
C-x 2 ..............横方向分割
C-x 3 ..............縦方向分割
C-x o ..............ウィンドウ切り替え
C-x b バッファ名 ...バッファをウィンドウに呼び出す
C-x C-b ............バッファの一覧表示 選択してEnterでバッファ切り替え
C-x ^ ..............カレントウィンドウを縦方向に拡大する
M-C-v ..............カレントでは無いウィンドウをスクロールさせる。
C-x C-b ............バッファ一覧を表示する
C-x k バッファ名....バッファを削除する
C-x b バッファ名....バッファを作成する。
```

### 漢字コード変換
```
C-x C-k f ..........下記参照のこと
C-x C-m f ..........ミニバッファへFile-coding-system:と表示される。*sjis*とか
                    *euc-japan*unixと指定する。タブを押すと侯補が現われる。
```

### ヘルプ
```
C-h b ..............キーバインドの一覧表示
```

### その他
```
M-x shell ..........Shellモードの実行
M-x eshell .........Shellモードの実行(color表示が可能!?)
M-x mew ............Mewの実行
M-x man ............manを読む
M-x info ...........infoを読む
M-x telnet .........telnetモードを実行する。
M-x ftp ............ftpモードを実行する。
M-x w3m ............w3mを実行する。
```

# emacs関連tips

### Emacsをターミナルとして使用する
```
M-x を押した後、shellを入力してエンターすればよい。
```

但し、sshやftpでログインしようとするとパスワードが平文で表示されるので 以下の設定を.emacsなどに行う。
```
(add-hook `comint-output-filter-functions
          `comint-watch-for-password-prompt)
```

### lessからemacsを呼び出す。
通常、lessでファイルを閲覧して「v」を押すとviが起動できる。 これを、viでなくemacsにするには環境変数EDITORをemacsにセットすれば「v」を 押すとemacsが起動できるようになる。

### .emacs.elの設定
```
;;　バックアップファイルを作成しない
(setq make-backup-files nil)

;;バッファ最後で矢印キーによる改行挿入をしない
(setq next-line-add-newlines nil) 

;;一行が80字以上になった時には自動改行する。
(setq fill-column 80)
(setq text-mode-hock 'turn-on-auto-fill)
```

### emacsで日本語が表示できない場合には 
以下の内容を.emacsに追加すればよい。
```
(set-terminal-coding-system 'euc-jp)
(set-keyboard-coding-system 'euc-jp)
```

### emacsでバイナリファイルを編集したい 
以下のモードにすればよい。
```
M-x hexl-find-file
```
