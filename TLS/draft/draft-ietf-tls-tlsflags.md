# 概要
A Flags Extension for TLS 1.3 について
下記ドキュメントを参考にしています。
- https://datatracker.ietf.org/doc/html/draft-ietf-tls-tlsflags-08

# 課題

### 解決したい課題
TLSでは多くの拡張が提案されていますが、それらは1bit(機能のon, off)の情報しか扱わないにもかかわらず、1つの「拡張で4オクテットもとられてしまいます。

### 解決方法
TLS Flags Extensionを定義することによって多くの機能に対するon, offを扱い、バンド幅を削減できるようにする。


# 詳細

この拡張機能のデータは可変長のビット列として定義され、最大で2040個を定義することができます。

```
struct {
   opaque flags<1..255>;
} FlagExtensions;
```
最初の1byteがLSB、8番目のbitがMSBとなります。
最初のオクテットは0-7番のフラグを保持し、2オクテット目は8-15番を保持します。

具体例を以下に示します。

- 0番のフラグをエンコードしたい場合には、1オクテットとなります。
```
00000001
```
- 1, 5番のフラグをエンコードしたい場合には、1オクテットとなります。
```
00100010
```
- 3, 5, 23番のフラグをエンコードしたい場合には、3オクテットとなります。
```
00101000 00000000 10000000
```

全てが0の値を受け取った実装はillegal_parameterによるfatalアラートとしなければならない。



# 参考URL
- https://datatracker.ietf.org/doc/draft-ietf-tls-tlsflags/
